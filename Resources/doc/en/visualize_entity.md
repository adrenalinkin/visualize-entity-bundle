Configuration file visualize_entity.yml [![На Русском](https://img.shields.io/badge/Перейти_на-Русский-green.svg?style=flat-square)](../ru/visualize_entity.md)
=======================================

For organize displayed data, bundle use configuration file `visualize_entity.yml`. You can put this file(-s)
in any bundle of the your project under `/Resources/config` directory.

**Recommended** create separate folder `/Resources/config/linkin` and put configuration file here to provide separation
of the Symfony configurations and extra configuration.

Configuration description
-------------------------

**linkin_visualize_entity** - root offset, which defines relations to the VisualizeEntityBundle.
Any configuration file `visualize_entity.yml` should be start from this key.

On the second level of the configuration placed unique names of the specific configurations. Configurations names
should be unique globally across project (not file or bundle). Wherein every specific configuration have next offsets
on the third level:

| Param                 | Required  | Type   | By default | Description                                                |
|:----------------------|:---------:|:------:|:----------:|------------------------------------------------------------|
| **className**         | Yes       | `string` |          | Name of the entity class, which should be visualized | 
| **label_translation** | No        | `array`  |          | Group of the label translation parameters, when this offset was not set directly, then labels will not use translations. Instead labels will be generated from the names of the appropriated fields. |
| **fields**            | Yes       | `array`  |          | List of the entity fields, which should be visualized. Every field will be calling appropriated getter, which will be generated by adding `get` to the field name. |

### Allowed options under label_translation

| Param      | Required  | Type   | By default   | Description                                                |
|:-----------|:---------:|:------:|:------------:|------------------------------------------------------------|
| **domain** | No        | `string` | `null`     | Translation domain |
| **prefix** | No        | `string` | `null`     | Prefix for the all fields labels. Will be applied when field do not contain manually defined `label` parameter. |

### Allowed options under fields

| Param                  | Required  | Type   | By default   | Description                                             |
|:-----------------------|:---------:|:------:|:------------:|------------------------------------------------------|
| **getter**             | No        | string | `null`       | Manually defined getter to get fields value |
| **label**              | No        | string | `null`       | Manually defined label |
| **visualizer**         | No        | string | `null`       | Name of the visualizer service, which should be applied. Cancels automatic selection and provide calling of the concrete visualizer |
| **visualizer_options** | No        | array  | `null`       | List of the options for the concrete visualizer |

### Full list of the configuration offsets

```yaml
linkin_visualize_entity:                         # root offset, which defines relations to the VisualizeEntityBundle
    acme_user_default:                           # unique name of the specific configuration
        className:    AcmeBundle:User            # name of the entity class, which should be visualized
        label_translation:                       # group of the label translation parameters
            domain:  acme_messages               # translation domain
            prefix:  'app.user.fields.'          # prefix for the all fields labels and, in this case, will be created
                                                 # app.user.fields.username string for the username field,
                                                 # which will be used as translation ID
        fields:                                  # list of the entity fields, which should be visualized
            username: ~                          # name of the field which should be same as getter without `get` prefix
            roles:
                getter: getRoles                 # manually defined getter to get fields value
                label: 'app.user.fields.roles'   # manually defined label
                visualizer: app.visualizer.some  # name of the visualizer service
                visualizer_options:              # list of the options for the concrete visualizer
                    myOption: optionValue        # option and his value, which will be put into visualizer
```

Configuration examples
----------------------

### Without translation usage

The presented configuration will be display fields labels without translation usage. Herewith all labels will be
capitalized and divided on words by capital letters. Formatting will not be applied for the manually defined label.
Thus will be generated next labels `Username`, `First Name`, `myRoles`.

```yaml
linkin_visualize_entity:
    acme_user_default:
        className:    AcmeBundle:User
        fields:
            username: ~
            firstName: ~
            roles:
                label: 'myRoles'
```

### Use translation prefix

The presented configuration will be display fields labels with translation system usage. Labels will be generated by
concatenation of the field name and defined prefix. Thus for the *username* will be generate `app.user.fields.username`
label and translation for this string will be search in the `acme_messages` translation domain. Manually defined label
value of the *roles* field will be used as is. Thus label for the *roles* field will be using string
`app.user.fields.my_roles_label` and translation for this string will be search in the `acme_messages`
translation domain.

```yaml
linkin_visualize_entity:
    acme_user_default:
        className:    AcmeBundle:User
        label_translation:
            domain:  acme_messages
            prefix:  'app.user.fields.'
        fields:
            username: ~
            roles:
                label: 'app.user.fields.my_roles_label'
```

### Use manually defined visualizer with options

The presented configuration will display data of the *roles* field by using manually defined visualizer with received
specific options. In this case will be displayed 5 or less roles values and they will be divided by `;`.

```yaml
linkin_visualize_entity:
    acme_user_default:
        className:    AcmeBundle:User
        fields:
            username: ~
            roles:
                visualizer: linkin_visualize_entity.visualizer.doctrine_collection
                visualizer_options:
                    limit: 5
                    delimiter: '; '
```

### Use template for the objects

The presented configuration will display data of the *roles* field by using defined template. Thus if role got
`title = User` and `role = ROLE_USER`, then will be displayed string `User (<b>ROLE_USER</b>)`.

**Attention**: Object visualizer will be applied automatically because of `ArrayVisualizer` will be called firstly and
after that `ArrayVisualizer` will be calling `ObjectVisualizer` for each role entity.

```yaml
linkin_visualize_entity:
    acme_user_default:
        className:    AcmeBundle:User
        fields:
            username: ~
            roles:
                visualizer_options:
                    template: 'getTitle (<b>getRole</b>)'
                    getters_array:
                        - getTitle
                        - getRole
```
